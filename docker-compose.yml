version: "3.8"

services:
#todo cambiar para levantar todo de 0 en lugar de usar los Dockerfile
#acordarse de usar docker-compose build antes de docker-compose up

  backend:
    build:
        context: ./backend
        dockerfile: Dockerfile
    ports:
      - 8080:8080

  frontend:
    build:
        context: ./frontend
        dockerfile: Dockerfile
    ports:
      - 3000:3000
      
#falta hacer en el backend que espere a que exista la base de datos para crear las tablas (como alternativa se puede volver a dar play manualmente al backend)
#falta hacer que el backend ejecute su script de la view de ranking
  mysql:
    container_name: test-mysql
    image: mysql:8.0
    ports:
      - 3333:3306
    volumes:
      - mysql-data-db-01:/var/lib/mysql
    environment: 
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: wordle


volumes:
  mysql-data-db-01:
  
  
  
